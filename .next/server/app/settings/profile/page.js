(()=>{var e={};e.id=671,e.ids=[671],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},6822:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=t(482),a=t(9108),i=t(2563),n=t.n(i),o=t(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["settings",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8685)),"/Users/dennycao/Projects/s24-eng-r2-deliverable/app/settings/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6807)),"/Users/dennycao/Projects/s24-eng-r2-deliverable/app/settings/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,8526)),"/Users/dennycao/Projects/s24-eng-r2-deliverable/app/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,7984)),"/Users/dennycao/Projects/s24-eng-r2-deliverable/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,1429)),"/Users/dennycao/Projects/s24-eng-r2-deliverable/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/dennycao/Projects/s24-eng-r2-deliverable/app/settings/profile/page.tsx"],u="/settings/profile/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/profile/page",pathname:"/settings/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1046:(e,r,t)=>{Promise.resolve().then(t.bind(t,6138)),Promise.resolve().then(t.bind(t,7341))},8470:(e,r,t)=>{Promise.resolve().then(t.bind(t,7957)),Promise.resolve().then(t.bind(t,7341))},6138:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var s=t(5344),a=t(5453),i=t(708),n=t(9709),o=t(6212),l=t(3061),d=t(2549),c=t(3601),u=t(5092),p=t(5024),m=t(2254),x=t(3729);let f=n.Ry({username:n.Z_().min(2,{message:"Username must be at least 2 characters."}).max(30,{message:"Username must not be longer than 30 characters."}).transform(e=>e.trim()),bio:n.Z_().max(160,{message:"Biography cannot be longer than 160 characters."}).nullable().transform(e=>e&&""!==e.trim()?e.trim():null)});function g({profile:e}){let[r,t]=(0,x.useState)(!1),n={username:e.display_name,bio:e.biography},g=(0,i.cI)({resolver:(0,a.F)(f),defaultValues:n,mode:"onChange"}),h=(0,m.useRouter)(),v=async r=>{let s=(0,p.B)(),{error:a}=await s.from("profiles").update({biography:r.bio,display_name:r.username}).eq("id",e.id);return a?(0,u.Am)({title:"Something went wrong.",description:a.message,variant:"destructive"}):(t(!1),g.reset(r),h.refresh(),(0,u.Am)({title:"Profile updated successfully!"}))};return s.jsx(l.l0,{...g,children:(0,s.jsxs)("form",{onSubmit:e=>void g.handleSubmit(v)(e),className:"space-y-8",children:[s.jsx(l.Wi,{control:g.control,name:"username",render:({field:e})=>(0,s.jsxs)(l.xJ,{children:[s.jsx(l.lX,{children:"Username"}),s.jsx(l.NI,{children:s.jsx(d.I,{readOnly:!r,placeholder:"Username",...e})}),s.jsx(l.pf,{children:"This is your public display name. It can be your real name or a pseudonym."}),s.jsx(l.zG,{})]})}),(0,s.jsxs)(l.xJ,{children:[s.jsx(l.lX,{children:"Email"}),s.jsx(l.NI,{children:s.jsx(d.I,{readOnly:!0,placeholder:e.email})}),s.jsx(l.pf,{children:"This is your verified email address."}),s.jsx(l.zG,{})]}),s.jsx(l.Wi,{control:g.control,name:"bio",render:({field:e})=>{let{value:t,...a}=e;return(0,s.jsxs)(l.xJ,{children:[s.jsx(l.lX,{children:"Bio"}),s.jsx(l.NI,{children:s.jsx(c.g,{readOnly:!r,value:t??"",placeholder:"Tell us a little bit about yourself",className:"resize-none",...a})}),s.jsx(l.pf,{children:"A short description of yourself!"}),s.jsx(l.zG,{})]})}}),r?(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.z,{type:"submit",className:"mr-2",children:"Update profile"}),s.jsx(o.z,{variant:"secondary",onClick:e=>{e.preventDefault(),g.reset(n),t(!1)},children:"Cancel"})]}):s.jsx(o.z,{onClick:e=>{e.preventDefault(),t(!0)},children:"Edit Profile"})]})})}},7957:(e,r,t)=>{"use strict";t.r(r),t.d(r,{SidebarNav:()=>d});var s=t(5344),a=t(783),i=t.n(a),n=t(2254),o=t(1626),l=t(6212);function d({className:e,items:r,...t}){let a=(0,n.usePathname)();return s.jsx("nav",{className:(0,o.cn)("flex space-x-2 lg:flex-col lg:space-x-0 lg:space-y-1",e),...t,children:r.map(e=>s.jsx(i(),{href:e.href,className:(0,o.cn)((0,l.d)({variant:"ghost"}),a===e.href?"bg-muted hover:bg-muted":"hover:bg-transparent hover:underline","justify-start"),children:e.title},e.href))})}},3061:(e,r,t)=>{"use strict";t.d(r,{NI:()=>g,Wi:()=>u,l0:()=>d,lX:()=>f,pf:()=>h,xJ:()=>x,zG:()=>v});var s=t(5344),a=t(2751),i=t(3729),n=t(708),o=t(6448),l=t(1626);let d=n.RV,c=i.createContext({}),u=({...e})=>s.jsx(c.Provider,{value:{name:e.name},children:s.jsx(n.Qr,{...e})}),p=()=>{let e=i.useContext(c),r=i.useContext(m),{getFieldState:t,formState:s}=(0,n.Gc)(),a=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...a}},m=i.createContext({}),x=i.forwardRef(({className:e,...r},t)=>{let a=i.useId();return s.jsx(m.Provider,{value:{id:a},children:s.jsx("div",{ref:t,className:(0,l.cn)("space-y-2",e),...r})})});x.displayName="FormItem";let f=i.forwardRef(({className:e,...r},t)=>{let{error:a,formItemId:i}=p();return s.jsx(o._,{ref:t,className:(0,l.cn)(a&&"text-destructive",e),htmlFor:i,...r})});f.displayName="FormLabel";let g=i.forwardRef(({...e},r)=>{let{error:t,formItemId:i,formDescriptionId:n,formMessageId:o}=p();return s.jsx(a.g7,{ref:r,id:i,"aria-describedby":t?`${n} ${o}`:`${n}`,"aria-invalid":!!t,...e})});g.displayName="FormControl";let h=i.forwardRef(({className:e,...r},t)=>{let{formDescriptionId:a}=p();return s.jsx("p",{ref:t,id:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...r})});h.displayName="FormDescription";let v=i.forwardRef(({className:e,children:r,...t},a)=>{let{error:i,formMessageId:n}=p(),o=i?String(i?.message):r;return o?s.jsx("p",{ref:a,id:n,className:(0,l.cn)("text-sm font-medium text-destructive",e),...t,children:o}):null});v.displayName="FormMessage"},2549:(e,r,t)=>{"use strict";t.d(r,{I:()=>n});var s=t(5344),a=t(3729),i=t(1626);let n=a.forwardRef(({className:e,type:r,...t},a)=>s.jsx("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));n.displayName="Input"},6448:(e,r,t)=>{"use strict";t.d(r,{_:()=>d});var s=t(5344),a=t(4217),i=t(9247),n=t(3729),o=t(1626);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef(({className:e,...r},t)=>s.jsx(a.f,{ref:t,className:(0,o.cn)(l(),e),...r}));d.displayName=a.f.displayName},7341:(e,r,t)=>{"use strict";t.r(r),t.d(r,{Separator:()=>p});var s=t(5344),a=t(5651),i=t(3729),n=t(2409);let o="horizontal",l=["horizontal","vertical"],d=(0,i.forwardRef)((e,r)=>{let{decorative:t,orientation:s=o,...l}=e,d=c(s)?s:o;return(0,i.createElement)(n.WV.div,(0,a.Z)({"data-orientation":d},t?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},l,{ref:r}))});function c(e){return l.includes(e)}d.propTypes={orientation(e,r,t){let s=e[r],a=String(s);return s&&!c(s)?Error(`Invalid prop \`orientation\` of value \`${a}\` supplied to \`${t}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${o}\`.`):null}};var u=t(1626);let p=i.forwardRef(({className:e,orientation:r="horizontal",decorative:t=!0,...a},i)=>s.jsx(d,{ref:i,decorative:t,orientation:r,className:(0,u.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...a}));p.displayName=d.displayName},3601:(e,r,t)=>{"use strict";t.d(r,{g:()=>n});var s=t(5344),a=t(3729),i=t(1626);let n=a.forwardRef(({className:e,...r},t)=>s.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));n.displayName="Textarea"},6807:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var s=t(5036),a=t(6843);let i=(0,a.createProxy)(String.raw`/Users/dennycao/Projects/s24-eng-r2-deliverable/components/global/sidebar-nav.tsx`),{__esModule:n,$$typeof:o}=i;i.default;let l=(0,a.createProxy)(String.raw`/Users/dennycao/Projects/s24-eng-r2-deliverable/components/global/sidebar-nav.tsx#SidebarNav`);var d=t(5675),c=t(6549),u=t(627),p=t(4551);let m=[{title:"General",href:"/settings/general"},{title:"Profile",href:"/settings/profile"}];async function x({children:e}){let r=(0,u.f)(),{data:{session:t}}=await r.auth.getSession();return t||(0,p.redirect)("/"),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[s.jsx(c.Z9,{children:"Settings"}),s.jsx(c.SB,{children:"Manage your account and profile settings."})]}),s.jsx(d.Z,{className:"my-6"}),(0,s.jsxs)("div",{className:"flex flex-col space-y-8 lg:flex-row lg:space-x-12 lg:space-y-0",children:[s.jsx("aside",{className:"-mx-4 lg:w-1/5",children:s.jsx(l,{items:m})}),s.jsx("div",{className:"flex-1 lg:max-w-2xl",children:e})]})]})}},8685:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var s=t(5036),a=t(5675),i=t(627),n=t(4551);let o=(0,t(6843).createProxy)(String.raw`/Users/dennycao/Projects/s24-eng-r2-deliverable/app/settings/profile/profile-form.tsx`),{__esModule:l,$$typeof:d}=o,c=o.default;function u({message:e}){return(0,s.jsxs)(s.Fragment,{children:[s.jsx("h3",{className:"text-lg font-medium",children:"Error"}),s.jsx("p",{children:e})]})}async function p(){let e=(0,i.f)(),{data:{session:r}}=await e.auth.getSession();r||(0,n.redirect)("/");let{data:t,error:o}=await e.from("profiles").select().eq("id",r.user.id);if(o)return s.jsx(u,{message:o.message});if(1!==t.length)return s.jsx(u,{message:"There are duplicate UUIDs. Please contact system administrator"});let l=t[0];return l?s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-medium",children:"Profile"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This is how others will see you on the site."})]}),s.jsx(a.Z,{}),s.jsx(c,{profile:l})]})}):s.jsx(u,{message:"Profile data not found."})}},5675:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var s=t(6843);let a=(0,s.createProxy)(String.raw`/Users/dennycao/Projects/s24-eng-r2-deliverable/components/ui/separator.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let o=(0,s.createProxy)(String.raw`/Users/dennycao/Projects/s24-eng-r2-deliverable/components/ui/separator.tsx#Separator`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,360,768,551,982,981],()=>t(6822));module.exports=s})();